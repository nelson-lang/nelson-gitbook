/* PDF style v2 for Nelson documentation
   - Compact, readable typography for print/PDF
   - Wider but compact tables for changelogs/history
   - Centered images without scrollbars
   - Improved code block styling
   - Accessible link handling for digital and print
*/

/* Image styling - centered without scrollbars */
img {
    max-width: 92% !important;
    max-height: 480px !important; /* allow taller images but still constrained */
    height: auto !important;
    width: auto !important;
    display: block !important;
    margin: 8px auto 12px auto !important;
    object-fit: contain !important;
}

/* Emoji images - inline display, small size, proper alignment */
img[data-emoji] {
    display: inline-block !important;
    width: 0.9em !important;
    height: 0.9em !important;
    max-width: 0.9em !important;
    max-height: 0.9em !important;
    margin: 0 0.05em !important;
    vertical-align: -0.1em !important;
    object-fit: contain !important;
}

/* Specific handling for SVG images to prevent scrollbars */
img[src$=".svg"], img[src*=".svg"] {
    max-width: 86% !important;
    max-height: 420px !important;
    width: auto !important;
    height: auto !important;
    object-fit: contain !important;
}

/* SVG container divs - strict overflow control */
div[style*="overflow: hidden"] {
    overflow: hidden !important;
    max-width: 680px !important; /* allow SVG containers to be wider */
}

/* Ensure figure containers don't cause overflow */
figure {
    max-width: 100% !important;
    margin: 8px auto 12px auto !important;
    text-align: center !important;
    overflow: hidden !important;
}

/* Image captions */
figcaption {
    text-align: center !important;
    font-size: 9pt;
    color: #666;
    margin-top: 5px;
}

/* Prevent any parent containers from causing scrollbars */
p img, div img {
    margin-left: auto !important;
    margin-right: auto !important;
}

/* Base typography for PDF */
html, body {
    font-family: "Segoe UI", "Segoe UI Emoji", "Segoe UI Symbol", "Apple Color Emoji", "Noto Color Emoji", "Helvetica Neue", Arial, sans-serif;
    font-size: 11pt;
    color: #222;
    line-height: 1.35;
}

/* Headings - stronger hierarchy but compact */
h1, h2, h3, h4, h5 {
    color: #1a1a1a;
    margin-top: 1.0em;
    margin-bottom: 0.35em;
    page-break-after: avoid;
}
h1 { font-size: 18pt; }
h2 { font-size: 14.5pt; }
h3 { font-size: 12.5pt; }
h4 { font-size: 11.5pt; }

/* Links - visible for digital PDFs but subdued for print */
a { color: #0b66ff; text-decoration: none; }
a[href^="http"]:after { content: " (â†—)"; font-size: 85%; color: #666; }

/* Code blocks and inline code */
pre, code {
    font-family: "Courier New", Consolas, monospace;
    background: #f5f7fa;
    color: #111;
}
pre {
    padding: 8px 10px;
    border-radius: 4px;
    overflow: auto;
    font-size: 9pt;
    margin: 8px 0;
}
code { padding: 2px 4px; font-size: 9pt; }

/* Blockquotes */
blockquote {
    border-left: 4px solid #d0d7de;
    margin: 8px 0;
    padding: 6px 12px;
    color: #333;
    background: #fbfcfd;
}

/* Tables - compact but wider */
/* Tables */
table {
    border-collapse: collapse;
    width: 92%;
    max-width: 100%;
    margin: 10px auto 14px auto;
    page-break-inside: avoid;
    font-size: 9pt;
}

th {
    background-color: #2b7cd3;
    color: white;
    font-weight: 600;
    padding: 6px 10px;
    text-align: left;
    border: 1px solid #1f65a8;
    font-size: 9pt;
}

td {
    padding: 6px 10px;
    border: 1px solid #e1e5ea;
    font-size: 9pt;
}

tr:nth-child(even) {
    background-color: #fbfdff;
}

/* Small helpers for dense rows (used for changelogs/history) */
.compact-table td, .compact-table th { padding: 4px 6px; font-size: 8.5pt; }

/* Footer-ish small print */
.small { font-size: 8.5pt; color: #666; }

/* Ensure page-breaks do not split code blocks or images */
pre, img, table, figure { page-break-inside: avoid; }

/* Accessibility: ensure strong contrast for printed output */
@media print {
    a[href^="http"]:after { content: " (" attr(href) ")"; color: #444; font-size: 8pt; }
}

/* Anchor target helpers: make named anchors block-level and offset slightly so
   internal links land at the expected position in PDF viewers (wkhtmltopdf).
   The negative margin is small: adjust if your header/footer sizes differ. */
a[id], a[name] {
    display: block;
    position: relative;
    margin-top: -12pt; /* nudge anchor up to account for fixed headers */
    padding-top: 12pt;  /* preserve visual spacing so content isn't overlapped */
}
